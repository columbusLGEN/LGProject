//
//  USCResult.m
//  EasyChineseReading-ios
//
//  Created by 赵春阳 on 2017/9/11.
//  Copyright © 2017年 lee. All rights reserved.
//

#import "USecurityCenterResultVC.h"
#import "USecurityCenterVC.h"
#import "LoginVC.h"

@interface USecurityCenterResultVC ()

@end

@implementation USecurityCenterResultVC

- (void)viewDidLoad {
    [super viewDidLoad];
    // Do any additional setup after loading the view.
    [self configResultView];
}

- (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

- (void)configResultView
{
    self.title = @"设置成功";
    
    UIImageView *imageView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"img_login_register_success"]];
    imageView.layer.masksToBounds = YES;
    imageView.layer.cornerRadius = imageView.height/2;
    [self.view addSubview:imageView];
    
    UILabel *lblDesc = [[UILabel alloc] init];
    lblDesc.text = @"设置成功";
    lblDesc.textColor = [UIColor cm_graryColor_807F7F_1];
    [self.view addSubview:lblDesc];
    
    UILabel *lblReturn = [[UILabel alloc] init];
    lblReturn.textColor = [UIColor cm_graryColor_807F7F_1];
    lblReturn.userInteractionEnabled = YES;
    NSString *textStr = _securityCenterUpdateType == ENUM_ZUserSecurityCenterUpdateMethodForget ? @"返回登录>" : @"返回安全中心>";
    
    // 下划线
    NSDictionary *attribtDic = @{NSUnderlineStyleAttributeName: [NSNumber numberWithInteger:NSUnderlineStyleSingle]};
    NSMutableAttributedString *attribtStr = [[NSMutableAttributedString alloc]initWithString:textStr attributes:attribtDic];
    //赋值
    lblReturn.attributedText = attribtStr;
    [self.view addSubview:lblReturn];
    
    [imageView mas_makeConstraints:^(MASConstraintMaker *make) {
        make.top.equalTo(self.view.mas_top).offset(100);
        make.centerX.equalTo(self.view.mas_centerX);
    }];
    
    [lblDesc mas_makeConstraints:^(MASConstraintMaker *make) {
        make.top.equalTo(imageView.mas_bottom).offset(20);
        make.centerX.equalTo(imageView.mas_centerX);
    }];
    
    [lblReturn mas_makeConstraints:^(MASConstraintMaker *make) {
        make.top.equalTo(lblDesc.mas_bottom).offset(25);
        make.centerX.equalTo(lblDesc.mas_centerX);
    }];
    
    UITapGestureRecognizer *tapReturn = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(returnToSecurityCenter)];
    [lblReturn addGestureRecognizer:tapReturn];
}

- (void)returnToSecurityCenter
{
    for (UIViewController *temp in self.navigationController.viewControllers) {
        if ([temp isKindOfClass:[USecurityCenterVC class]]) {
            [self.navigationController popToViewController:temp animated:YES];
        }
        else if ([temp isKindOfClass:[LoginVC class]]) {
            [self.navigationController popToViewController:temp animated:YES];
        }
    }
}

// MARK: 父类方法
- (void)createNavLeftBackItem{
    
    UIBarButtonItem *bkBatButtonItem = [[UIBarButtonItem alloc] initWithImage:[UIImage imageNamed:@"nav_icon_back"] style:UIBarButtonItemStyleDone target:self action:@selector(returnToSecurityCenter)];
    UIBarButtonItem *spaceBarButtonItem = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFixedSpace target:nil action:nil];
    spaceBarButtonItem.width = -4;
    self.navigationItem.leftBarButtonItems = @[spaceBarButtonItem,bkBatButtonItem];
}

@end
