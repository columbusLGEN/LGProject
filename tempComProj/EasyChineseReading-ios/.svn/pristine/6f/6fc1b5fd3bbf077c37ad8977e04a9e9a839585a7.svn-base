//
//  UCRecommendStudentListVC.m
//  EasyChineseReading-ios
//
//  Created by 赵春阳 on 2017/9/15.
//  Copyright © 2017年 lee. All rights reserved.
//

#import "UCRecommendStudentListVC.h"

#import "UCRStudentListTableViewCell.h"

@interface UCRecommendStudentListVC ()

@end

@implementation UCRecommendStudentListVC

- (void)viewDidLoad {
    [super viewDidLoad];
    // Do any additional setup after loading the view.
}

- (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}


#pragma mark - 继承学生管理模块，重写 父类定义cell方法 与 选择cell方法

- (UITableViewCell *)reTableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    UCRStudentListTableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:NSStringFromClass([UCRStudentListTableViewCell class])];
    if (cell == nil) {
        [tableView registerNib:[UINib nibWithNibName:NSStringFromClass([UCRStudentListTableViewCell class]) bundle:nil]
        forCellReuseIdentifier:NSStringFromClass([UCRStudentListTableViewCell class])];
        
        cell = [tableView dequeueReusableCellWithIdentifier:NSStringFromClass([UCRStudentListTableViewCell class])];
    }
    cell.data = self.arrDataSource[indexPath.row];
    return cell;
}

// 重写cell的选中方法
- (void)reTableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    UCRStudentListTableViewCell *cell = [tableView cellForRowAtIndexPath:indexPath];
    UserModel *user = self.arrDataSource[indexPath.row];
    
    if ([_arrSelectedStudent containsObject:user]) {
        cell.imgSelected.image = [UIImage imageNamed:@"2"];
        //        book.isSelected = NO;
        [_arrSelectedStudent removeObject:user];
        
        self.reloadBlock(NO);
    }
    else {
        cell.imgSelected.image = [UIImage imageNamed:@"1"];
        //        book.isSelected = YES;
        [_arrSelectedStudent addObject:user];
        self.reloadBlock(YES);
    }
}

@end
