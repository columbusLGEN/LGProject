//
//  UCImpowerManagerVC.m
//  EasyChineseReading-ios
//
//  Created by 赵春阳 on 2017/10/12.
//  Copyright © 2017年 retech. All rights reserved.
//

#import "UCImpowerManagerVC.h"

#import "UCRecommendStudentsVC.h"
#import "UCImpowerTeacherVC.h"

#import "ZSlideSwitch.h"

@interface UCImpowerManagerVC ()<ZSlideSwitchDelegate>

@property (strong, nonatomic) ZSlideSwitch *slideSwitch;

@property (strong, nonatomic) UCRecommendStudentsVC *studentList; // 学生
@property (strong, nonatomic) UCImpowerTeacherVC    *teacherList; // 教师

@property (strong, nonatomic) UIButton *btnL;
@property (strong, nonatomic) UIButton *btnR;

@end

@implementation UCImpowerManagerVC

- (void)viewDidLoad {
    [super viewDidLoad];
    [self configImpowerView];
}

- (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

#pragma mark 配置授权人员

- (void)configImpowerView
{
    self.title = @"授权阅读";
    self.view.backgroundColor = [UIColor whiteColor];
    
    UIView *topView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, Screen_Width, cHeaderHeight_54)];
    topView.backgroundColor = [UIColor whiteColor];
    
    _btnL = [[UIButton alloc] initWithFrame:CGRectMake(15, 10, 80, cHeaderHeight_54 - 2*10)];
    [_btnL setTitle:@"教师" forState:UIControlStateNormal];
    [_btnL setTitleColor:[UIColor cm_blackColor_333333_1] forState:UIControlStateNormal];
    [_btnL setTitleColor:[UIColor cm_purpleColor_82056B_1] forState:UIControlStateSelected];
    [_btnL setBackgroundColor:[UIColor clearColor]];
    [_btnL addTarget:self action:@selector(selectedTeacher) forControlEvents:UIControlEventTouchUpInside];
    [_btnL setSelected:YES];
    
    _btnR = [[UIButton alloc] initWithFrame:CGRectMake(15*2 + 80, 10, 80, cHeaderHeight_54 - 2*10)];
    [_btnR setTitle:@"学生" forState:UIControlStateNormal];
    [_btnR setTitleColor:[UIColor cm_blackColor_333333_1] forState:UIControlStateNormal];
    [_btnR setTitleColor:[UIColor cm_purpleColor_82056B_1] forState:UIControlStateSelected];
    [_btnR setBackgroundColor:[UIColor clearColor]];
    [_btnR addTarget:self action:@selector(selecteStudent) forControlEvents:UIControlEventTouchUpInside];
    
    _btnL.layer.borderColor = [UIColor cm_purpleColor_82056B_1].CGColor;
    _btnL.layer.borderWidth = 1.f;
    
    _btnL.layer.cornerRadius = _btnL.height/2;
    _btnL.layer.masksToBounds = YES;
    
    _btnR.layer.borderColor = [UIColor cm_lineColor_E3E3E3_1].CGColor;
    _btnR.layer.borderWidth = 1.f;
    
    _btnR.layer.cornerRadius = _btnR.height/2;
    _btnR.layer.masksToBounds = YES;
    
    [topView addSubview:_btnL];
    [topView addSubview:_btnR];
    
    [self.view addSubview:topView];
    
    [self configStudentView];
    [self configTeacherView];
}

#pragma mark -

- (void)selectedTeacher
{
    [_btnL setSelected:YES];
    [_btnR setSelected:NO];
    
    _btnL.layer.borderColor = [UIColor cm_purpleColor_82056B_1].CGColor;
    _btnR.layer.borderColor = [UIColor cm_lineColor_E3E3E3_1].CGColor;
    
    [self.view bringSubviewToFront:_teacherList.view];
}

- (void)selecteStudent
{
    [_btnL setSelected:NO];
    [_btnR setSelected:YES];
    
    _btnL.layer.borderColor = [UIColor cm_lineColor_E3E3E3_1].CGColor;
    _btnR.layer.borderColor = [UIColor cm_purpleColor_82056B_1].CGColor;

    [self.view bringSubviewToFront:_studentList.view];
}

#pragma mark -

- (void)configTeacherView {
    _teacherList = [UCImpowerTeacherVC new];
    _teacherList.view.frame = CGRectMake(0, cHeaderHeight_54, Screen_Width, self.view.height - cHeaderHeight_54);
    
    [self addChildViewController:_teacherList];
    [self.view addSubview:_teacherList.view];
}

- (void)configStudentView {
    _studentList = [UCRecommendStudentsVC new];
    _studentList.view.frame = CGRectMake(0, cHeaderHeight_54, Screen_Width, self.view.height - cHeaderHeight_54);
    
    [self addChildViewController:_studentList];
    [self.view addSubview:_studentList.view];
}

#pragma mark -
#pragma mark SlideSwitchDelegate

- (void)slideSwitchDidselectAtIndex:(NSInteger)index {
    NSLog(@"切换到了第 -- %zd -- 个视图",index);
}
@end
