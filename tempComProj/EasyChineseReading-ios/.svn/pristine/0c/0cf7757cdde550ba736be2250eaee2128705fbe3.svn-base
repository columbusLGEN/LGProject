//
//  UserRechargeVC.m
//  EasyChineseReading-ios
//
//  Created by 赵春阳 on 17/9/7.
//  Copyright © 2017年 lee. All rights reserved.
//

#import "UserRechargeVC.h"

#import "UVirtualCurrencyRechargeVC.h"
#import "UserTicketManager.h"

@interface UserRechargeVC ()

/* 充值 */
@property (strong, nonatomic) UVirtualCurrencyRechargeVC *rechargeVC;
/* 卡券 */
@property (strong, nonatomic) UserTicketManager *ticketVC;

@property (strong, nonatomic) ZSegment *segment;

@end

@implementation UserRechargeVC

- (void)viewDidLoad {
    [super viewDidLoad];
}

- (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

- (void)updateSystemLanguage
{
    self.title = LOCALIZATION(@"我的钱包");
    self.view.backgroundColor = [UIColor whiteColor];
    
    _segment = [[ZSegment alloc] initWithFrame:CGRectMake(0, 0, Screen_Width, cHeaderHeight_44) leftTitle:LOCALIZATION(@"包月套餐") rightTitle:LOCALIZATION(@"卡券兑换")];
    [self.view addSubview:_segment];
    
    WeakSelf(self)
    _segment.selectedLeft = ^{
        [weakself.view bringSubviewToFront:weakself.rechargeVC.view];
    };
    _segment.selectedRight = ^{
        [weakself.view bringSubviewToFront:weakself.ticketVC.view];
    };
    
    [self configTicketView];
    [self configRechargeView];
}

#pragma mark -
#pragma mark 配置充值与卡券

- (void)configRechargeView
{
    _rechargeVC = [UVirtualCurrencyRechargeVC loadFromStoryBoard:@"User"];
    _rechargeVC.payPurpose = ENUM_PayPurposeAllLease;
//    _rechargeVC.view.frame = CGRectMake(0, cHeaderHeight_44 , Screen_Width, self.view.height - cHeaderHeight_44);
    
    [self addChildViewController:_rechargeVC];
    [self.view addSubview:_rechargeVC.view];
}

- (void)configTicketView
{
    _ticketVC = [UserTicketManager new];
    _ticketVC.view.frame = CGRectMake(0, cHeaderHeight_44 , Screen_Width, self.view.height - cHeaderHeight_44);
    
    [self addChildViewController:_ticketVC];
    [self.view addSubview:_ticketVC.view];
}

@end
