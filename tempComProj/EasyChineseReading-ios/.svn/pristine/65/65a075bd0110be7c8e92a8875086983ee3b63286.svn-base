//
//  UCReadDetailTableViewCell.m
//  EasyChineseReading-ios
//
//  Created by 赵春阳 on 2017/9/12.
//  Copyright © 2017年 lee. All rights reserved.
//

#import "UCReadDetailTableViewCell.h"

@interface UCReadDetailTableViewCell ()

@property (strong, nonatomic) IBOutlet UIImageView *imgAvatar;
@property (strong, nonatomic) IBOutlet UILabel *lblName;
@property (strong, nonatomic) IBOutlet UILabel *lblPercent;
@property (strong, nonatomic) IBOutlet UIView *backView;
@property (strong, nonatomic) IBOutlet UIView *frontView;
@property (strong, nonatomic) IBOutlet NSLayoutConstraint *rightConstraint;

@end

@implementation UCReadDetailTableViewCell

- (void)awakeFromNib {
    [super awakeFromNib];
    // Initialization code
    [self configReadDetailView];
}

- (void)setSelected:(BOOL)selected animated:(BOOL)animated {
    [super setSelected:selected animated:animated];

    // Configure the view for the selected state
}

- (void)configReadDetailView
{
    _imgAvatar.layer.masksToBounds = YES;
    _imgAvatar.layer.cornerRadius = _imgAvatar.height/2;
    
    _imgAvatar.layer.borderColor = [UIColor whiteColor].CGColor;
    _imgAvatar.layer.borderWidth = 3.f;
    
    _lblName.textColor = [UIColor cm_blackColor_333333_1];
    _lblPercent.textColor = [UIColor cm_blackColor_333333_1];
    
    _backView.layer.masksToBounds = YES;
    _backView.layer.cornerRadius = _backView.height/2;
    
    _backView.layer.borderColor = [UIColor cm_orangeColor_FF6000_1].CGColor;
    _backView.layer.borderWidth = 0.5f;
    
    _frontView.backgroundColor = [UIColor cm_orangeColor_FF6000_1];
}

- (void)dataDidChange
{
    NSDictionary *dic = self.data;
    
    _imgAvatar.image = [UIImage imageNamed:dic[@"image"]];
    _lblName.text = dic[@"name"];
    _lblPercent.text = [NSString stringWithFormat:@"%@%%", dic[@"percent"]];
    
    NSInteger percent = [[NSString stringWithFormat:@"%@", dic[@"percent"]] integerValue];
    _rightConstraint.constant = _backView.width - _backView.width * percent / 100;
}



@end
