//
//  UserInfo.h
//  EasyChineseReading-ios
//
//  Created by 赵春阳 on 17/9/6.
//  Copyright © 2017年 lee. All rights reserved.
//

#import "BaseModel.h"

#import "CacheDataSource.h"

@interface UserRequest : BaseNetRequest

#pragma mark ========== 用户信息相关网络请求 ==========

#pragma mark - 用户信息记录及判断

@property (nonatomic, strong) NSString * token;
@property (nonatomic, strong) NSString * deviceToken;

CM_SINGLETON_INTERFACE(UserRequest)

///**
// * 记录登录过的用户信息，电话号，昵称
// */
//@property (strong, nonatomic) NSString *userphone;//电话号
//@property (strong, nonatomic) NSString *userNickName;//昵称

/** 保存信息 */
- (void)saveCache;
/** 获取信息 */
- (void)loadCache;
/** 清除信息 */
- (void)clearCache;

/** 在线判断 */
+ (BOOL)online;
- (BOOL)online;

/** 退出登录 */
- (void)signout;
/** 在其他机器登录，被踢下线 */
- (void)kickout;

#pragma mark ========== 数据接口 ==========

#pragma mark - 获取用户信息

/**
 获取用户信息

 @param userId      用户id
 @param completion  回调
 */
- (void)getUserInfoWithUserId:(NSString *)userId
                   completion:(CompleteBlock)completion;

#pragma mark - 用户注册

/**
 用户注册

 @param type       用户类型 （1 普通 3 机构）
 @param userType   账号类型 （1 手机 2 邮箱）
 @param password   密码
 @param school     学校
 @param country    国家
 @param name       姓名
 @param email      邮箱
 @param phone      手机号
 @param completion 回调
 */
- (void)registerUserWithType:(NSString *)type
                    userType:(NSString *)userType
                    password:(NSString *)password
                      school:(NSString *)school
                     country:(NSString *)country
                        name:(NSString *)name
                       email:(NSString *)email
                       phone:(NSString *)phone
                  completion:(CompleteBlock)completion;

#pragma mark - 验证账户的唯一性

/**
 验证账户的唯一性

 @param userName   账号（手机 邮箱）
 @param userType   账号类型 （手机 邮箱）
 @param completion 回调
 */
- (void)verifyAccountSingleWithUserName:(NSString *)userName
                               userType:(NSString *)userType
                             completion:(CompleteBlock)completion;

#pragma mark - 用户登录

/**
 用户登录

 @param type       登录类型（1.token登录--没有退出账号，关闭app后再次打开需要验证token，使用此接口token登录 2.密码登录）
 @param userType   账号类型（1.手机号 2.邮箱）
 @param user       账号
 @param password   密码
 @param userId     用户id(与token配对使用)
 @param token      token
 @param completion 回调
 */
- (void)loginWithType:(NSString *)type
             userType:(NSString *)userType
                 user:(NSString *)user
             password:(NSString *)password
               userId:(NSString *)userId
                token:(NSString *)token
           completion:(CompleteBlock)completion;

#pragma mark - 发送手机验证码

/**
 发送手机验证码

 @param phone      手机号
 @param completion 回调
 */
- (void)sendPhoneCodeWithPhone:(NSString *)phone
                    completion:(CompleteBlock)completion;


#pragma mark - 发送邮箱验证码

/**
 发送邮箱验证码

 @param email      邮箱
 @param completion 回调
 */
- (void)sendEmailCodeWithEmail:(NSString *)email
                    completion:(CompleteBlock)completion;

#pragma mark - 验证验证码

/**
 验证验证码

 @param type        验证码类型
 @param userId      用户id
 @param verifi      验证码
 @param completion  回调
 */
- (void)verityCodeWithType:(NSString *)type
                    userId:(NSString *)userId
                    verifi:(NSString *)verifi
                completion:(CompleteBlock)completion;

#pragma mark - 修改用户信息

/**
 修改用户信息

 @param name        名字
 @param address     地址
 @param sex         性别
 @param language    母语
 @param country     国籍
 @param learnyears  学习汉语年数
 @param intrerest   兴趣爱好
 @param birthday    生日
 @param iconUrl     头像
 @param school      学校
 @param completion  回调
 */
- (void)updateUserInfoWithName:(NSString *)name
                       address:(NSString *)address
                           sex:(NSString *)sex
                      language:(NSString *)language
                       country:(NSString *)country
                    learnyears:(NSString *)learnyears
                      interest:(NSString *)intrerest
                      birthday:(NSString *)birthday
                       iconUrl:(NSString *)iconUrl
                        school:(NSString *)school
                        completion:(CompleteBlock)completion;

#pragma mark - 上传图片

/**
 上传图片

 @param icon        图片
 @param completion  回调
 */
- (void)postImageWithImage:(NSString *)icon
                completion:(CompleteBlock)completion;

#pragma mark - 用户阅历分享

/**
 用户阅历分享

 @param completion 回调
 */
- (void)shareReadHistoryWithCompletion:(CompleteBlock)completion;

#pragma mark - 卡密兑换

/**
 卡密兑换

 @param exchangeId 卡密
 @param completion 回调 
 */
- (void)exchangeWithExchangeId:(NSString *)exchangeId
                    completion:(CompleteBlock)completion;


#pragma mark - 获取虚拟币



#pragma mark - 获取积分

@end
