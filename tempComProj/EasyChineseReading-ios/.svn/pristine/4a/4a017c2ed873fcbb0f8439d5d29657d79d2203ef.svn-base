//
//  UserRechargeVC.m
//  EasyChineseReading-ios
//
//  Created by 赵春阳 on 17/9/7.
//  Copyright © 2017年 lee. All rights reserved.
//

#import "UserRechargeVC.h"

#import "UVirtualCurrencyRechargeVC.h"
#import "UserTicketManager.h"

@interface UserRechargeVC ()

/* 充值 */
@property (strong, nonatomic) UVirtualCurrencyRechargeVC *rechargeVC;
/* 卡券 */
@property (strong, nonatomic) UserTicketManager *ticketVC;

@property (strong, nonatomic) UIButton *btnL;
@property (strong, nonatomic) UIButton *btnR;

@end

@implementation UserRechargeVC

- (void)viewDidLoad {
    [super viewDidLoad];
    // Do any additional setup after loading the view.
    [self configMyRechargeView];
}

- (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

- (void)updateSystemLanguage
{
    self.title = LOCALIZATION(@"我的钱包");
    [_btnL setTitle:LOCALIZATION(@"包月套餐") forState:UIControlStateNormal];
    [_btnR setTitle:LOCALIZATION(@"卡券兑换") forState:UIControlStateNormal];
}

#pragma mark -
#pragma mark 配置我的充值

- (void)configMyRechargeView
{
    self.view.backgroundColor = [UIColor whiteColor];
    
    UIView *topView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, Screen_Width, 44)];
    topView.backgroundColor = [UIColor whiteColor];
    
    _btnL = [[UIButton alloc] initWithFrame:CGRectMake(0, 0, Screen_Width/2 - 1, 43)];
    [_btnL setTitle:LOCALIZATION(@"包月套餐") forState:UIControlStateNormal];
    [_btnL.titleLabel setFont:[UIFont systemFontOfSize:16.f]];
    [_btnL setTitleColor:[UIColor cm_blackColor_333333_1] forState:UIControlStateNormal];
    [_btnL setTitleColor:[UIColor cm_purpleColor_82056B_1] forState:UIControlStateSelected];
    [_btnL setBackgroundColor:[UIColor clearColor]];
    [_btnL addTarget:self action:@selector(selectedRecharge) forControlEvents:UIControlEventTouchUpInside];
    [_btnL setSelected:YES];
    
    _btnR = [[UIButton alloc] initWithFrame:CGRectMake(Screen_Width/2, 0, Screen_Width/2, 43)];
    [_btnR setTitle:LOCALIZATION(@"卡券兑换") forState:UIControlStateNormal];
    [_btnR.titleLabel setFont:[UIFont systemFontOfSize:16.f]];
    [_btnR setTitleColor:[UIColor cm_blackColor_333333_1] forState:UIControlStateNormal];
    [_btnR setTitleColor:[UIColor cm_purpleColor_82056B_1] forState:UIControlStateSelected];
    [_btnR setBackgroundColor:[UIColor clearColor]];
    [_btnR addTarget:self action:@selector(selectedTicket) forControlEvents:UIControlEventTouchUpInside];
    
    UIView *lineView = [[UIView alloc] initWithFrame:CGRectMake(Screen_Width/2 - 1, 10, .5, 24)];
    lineView.backgroundColor = [UIColor cm_lineColor_D9D7D7_1];
    
    UIView *bLineView = [[UIView alloc] initWithFrame:CGRectMake(0, topView.height - 0.5, Screen_Width, 0.5)];
    bLineView.backgroundColor = [UIColor cm_lineColor_D9D7D7_1];
    
    [topView addSubview:_btnL];
    [topView addSubview:_btnR];
    [topView addSubview:lineView];
    [topView addSubview:bLineView];
    
    [self.view addSubview:topView];
    
    [self configTicketView];
    [self configRechargeView];
}

#pragma mark -
#pragma mark 配置充值与卡券

- (void)configRechargeView
{
    _rechargeVC = [UVirtualCurrencyRechargeVC loadFromStoryBoard:@"User"];
    _rechargeVC.view.frame = CGRectMake(0, cHeaderHeight_44 , Screen_Width, self.view.height - cHeaderHeight_44);
    
    [self addChildViewController:_rechargeVC];
    [self.view addSubview:_rechargeVC.view];
}

- (void)configTicketView
{
    _ticketVC = [UserTicketManager new];
    _ticketVC.view.frame = CGRectMake(0, cHeaderHeight_44 , Screen_Width, self.view.height - cHeaderHeight_44);
    
    [self addChildViewController:_ticketVC];
    [self.view addSubview:_ticketVC.view];
}

#pragma mark -
#pragma mark 选择充值或卡券

- (void)selectedRecharge
{
    [_btnL setSelected:YES];
    [_btnR setSelected:NO];
    [self.view bringSubviewToFront:_rechargeVC.view];
}

- (void)selectedTicket
{
    [_btnL setSelected:NO];
    [_btnR setSelected:YES];
    [self.view bringSubviewToFront:_ticketVC.view];
}

@end
