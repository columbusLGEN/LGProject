//
//  ECRDownloadStateModel.h
//  downloadStateDemo
//
//  Created by Peanut Lee on 2017/10/12.
//  Copyright © 2017年 Lee. All rights reserved.
//

#import <Foundation/Foundation.h>
@class ECRDownloadStateModel;
typedef void(^ECRDownloadProgressBlock)(CGFloat progress);
typedef void(^ECRDownloadFailureBlock)(NSError *error);
typedef void(^ECRDownloadSuccessBlock)(NSString *path);
// 正式
//typedef NS_ENUM(NSUInteger, ECRDownloadStateModelState) {
//    ECRDownloadStateModelStateNormal         = 100,// 未下载
//    ECRDownloadStateModelStateDownloadBegin  = 200,// 下载开始
//    ECRDownloadStateModelStateDownloading    = 201,// 下载中
//    ECRDownloadStateModelStateDownloadPause  = 202,// 暂停
//    ECRDownloadStateModelStateDownloadFailed = 203,// 下载失败
//    ECRDownloadStateModelStateDownloaded     = 300,// 下载完成
//};

// 测试，= 0,1,2,3,4
typedef NS_ENUM(NSUInteger, ECRDownloadStateModelState) {
    ECRDownloadStateModelStateNormal         ,// 未下载
    ECRDownloadStateModelStateDownloadBegin  ,// 下载开始
    ECRDownloadStateModelStateDownloading    ,// 下载中
    ECRDownloadStateModelStateDownloadPause  ,// 暂停
//    ECRDownloadStateModelStateDownloadFailed ,// 下载失败
    ECRDownloadStateModelStateDownloaded     // 下载完成
};

@class ECRBookrackModel;

@interface ECRDownloadStateModel : NSObject

// 改变下载状态 - 1103
- (void)changeDownloadStateWith:(ECRDownloadStateModelState)stateNow success:(ECRDownloadSuccessBlock)success progressBlock:(ECRDownloadProgressBlock)progressBlock failureBlock:(ECRDownloadFailureBlock)failureBlock;

- (void)changeDownloadStateWith:(ECRDownloadStateModelState)stateNow progressBlock:(ECRDownloadProgressBlock)progressBlock failureBlock:(ECRDownloadFailureBlock)failureBlock;

//@property (copy,nonatomic) NSString *localURL;// 本地存储路径

// 未下载
// 开始下载
// 下载中
// 下载失败
// 下载完成
@property (assign,nonatomic) ECRDownloadStateModelState modelState;

// 下载进度

// imgView --> 根据状态返回
@property (strong,nonatomic) UIImage *img;

@property (strong,nonatomic) ECRBookrackModel *brModel;//

@property (strong,nonatomic) NSMutableArray<ECRDownloadStateModel *> *groupDsModels;//

@end
