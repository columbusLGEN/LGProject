//
//  UIVCRBottomCollectionViewCell.m
//  EasyChineseReading-ios
//
//  Created by 赵春阳 on 17/9/7.
//  Copyright © 2017年 lee. All rights reserved.
//

#import "UIVCRSelectPriceCollectionViewCell.h"

@interface UIVCRSelectPriceCollectionViewCell ()

@property (weak, nonatomic) IBOutlet UILabel *lblLeaseNum;
@property (weak, nonatomic) IBOutlet UILabel *lblRechargeNum;
@property (weak, nonatomic) IBOutlet UILabel *lblGiveNum;
@property (weak, nonatomic) IBOutlet UIView *viewBackground;
@property (weak, nonatomic) IBOutlet UIImageView *imgPrice;

@end


@implementation UIVCRSelectPriceCollectionViewCell

- (void)awakeFromNib {
    [super awakeFromNib];
    // Initialization code
    
    _lblRechargeNum.textColor = [UIColor cm_mainColor];
    _lblLeaseNum.textColor    = [UIColor cm_mainColor];
    
    _lblGiveNum.textColor     = [UIColor cm_blackColor_666666_1];
    
    _lblRechargeNum.font = [UIFont systemFontOfSize:cFontSize_16];
    _lblLeaseNum.font    = [UIFont systemFontOfSize:cFontSize_16];
    _lblGiveNum.font     = [UIFont systemFontOfSize:cFontSize_14];
    
    _viewBackground.layer.borderWidth = 1.f;
    _viewBackground.layer.borderColor = [UIColor cm_lineColor_D9D7D7_1].CGColor;
}

- (void)setIsSelected:(BOOL)isSelected
{
    CGColorRef color = isSelected ? [UIColor cm_mainColor].CGColor : [UIColor cm_lineColor_D9D7D7_1].CGColor;
    _viewBackground.layer.borderColor = color;
}

- (void)dataDidChange
{
    PayPriceModel *price = self.data;
    
    if (_payPurpose == ENUM_PayPurposeAllLease) {
        _lblLeaseNum.text      = [NSString stringWithFormat:@"%@ %.2f / %ld %@", LOCALIZATION(@"¥"), [UserRequest sharedInstance].language == ENUM_LanguageTypeChinese ? price.rmb : price.dollar, price.day, LOCALIZATION(@"天")];
        _lblRechargeNum.hidden = YES;
        _lblGiveNum.hidden     = YES;
        _imgPrice.hidden       = YES;
    }
    else {  // 包月
        if (_isSelectedPriceView) {
            _lblLeaseNum.text      = [NSString stringWithFormat:@"%.2f / %ld %@", price.price, price.day, LOCALIZATION(@"天")];
            _lblRechargeNum.hidden = YES;
            _lblGiveNum.hidden     = YES;
        }
        else {// 充值
            _lblRechargeNum.text = [NSString stringWithFormat:@"%@ %.2f", LOCALIZATION(@"¥"), [UserRequest sharedInstance].language == ENUM_LanguageTypeChinese ? price.rmb : price.dollar];
            _lblGiveNum.text     = [NSString stringWithFormat:@"%@ %.2f %@", LOCALIZATION(@"赠送"), price.presenterSum, LOCALIZATION(@"虚拟币")];
            _lblGiveNum.hidden   = price.presenterSum == 0;
            _lblLeaseNum.hidden  = YES;
            _imgPrice.hidden     = YES;
        }
    }
}

@end
