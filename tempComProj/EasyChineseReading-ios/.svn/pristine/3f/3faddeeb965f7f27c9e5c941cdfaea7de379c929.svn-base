//
//  RegisterVC.m
//  EasyChineseReading-ios
//
//  Created by 赵春阳 on 2017/9/8.
//  Copyright © 2017年 lee. All rights reserved.
//

#import "RegisterVC.h"

#import "RegisterDetailVC.h"

#import "ZSlideSwitch.h"

@interface RegisterVC ()<ZSlideSwitchDelegate>

@property (strong, nonatomic) ZSlideSwitch *slideSwitch;

@property (strong, nonatomic) UIButton *btnL;
@property (strong, nonatomic) UIButton *btnR;

@property (strong, nonatomic) NSArray *arrTitles;

@end

@implementation RegisterVC

- (void)viewDidLoad {
    [super viewDidLoad];
    [self configLoginView];
}

- (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

- (void)updateSystemLanguage
{
    self.title = LOCALIZATION(@"用户注册");
    //要显示的标题
    _arrTitles = @[LOCALIZATION(@"个人用户"), LOCALIZATION(@"机构用户")];
}

#pragma mark -
#pragma mark 配置登录界面

- (void)configLoginView {

    //创建需要展示的ViewController
    NSMutableArray *viewControllers = [[NSMutableArray alloc] init];
    for (NSInteger i = 0 ; i<_arrTitles.count; i++) {
        RegisterDetailVC *login = [RegisterDetailVC new];
        // i=0 type=1 普通用户, i=1 type=3 机构用户，别问我为什么这样存，问后台。。。
        login.userType = i+1+i;
        [viewControllers addObject:login];
    }
    
    //创建滚动视图
    _slideSwitch = [[ZSlideSwitch alloc] initWithFrame:CGRectMake(0, 0, Screen_Width, self.view.height - cHeaderHeight_44) titles:_arrTitles viewControllers:viewControllers canScroll:NO needCenter:YES];
    //设置代理
    _slideSwitch.delegate = self;
    //设置按钮选中和未选中状态的标题颜色
    _slideSwitch.selectedColor = [UIColor cm_mainColor];
    _slideSwitch.normalColor = [UIColor cm_blackColor_333333_1];
    //显示方法
    [_slideSwitch showInViewController:self];
}

#pragma mark -
#pragma mark SlideSwitchDelegate

- (void)slideSwitchDidselectAtIndex:(NSInteger)index {
    NSLog(@"切换到了第 -- %zd -- 个视图",index);
}

@end
