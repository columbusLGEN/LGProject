//
//  BookMarkParser.h
//  YMEpubReader
//
//  Created by 高濛 on 15/11/3.
//  Copyright © 2015年 grenlight. All rights reserved.
//

#import <Foundation/Foundation.h>
#import "YMBSCoreDataDelegate.h"
#import "YMNetHostManager.h"

typedef void(^completeBlock)(NSDictionary *result);

@interface BookMarkOperator : NSObject
{
    NSManagedObjectContext * managedObjectContext;
    YMBookmark             * sendMark;
}
//检测当前页面是否有标签
- (YMBookmark *)isSaveBookMarkSpineIndex:(NSNumber *)spineIndex
                                StartPos:(NSNumber *)startP
                                  EndPos:(NSNumber *)endP;

//存储标签
- (void)saveBookmarkWithInfo:(NSDictionary *)info
          withCompleteBlock:(completeBlock)block;

//删除标签
- (void)bookmarkDelete:(NSDictionary *)info
            withBlock:(completeBlock)block;

//网络获取笔记存储
- (void)addBookmarkFromSever:(NSMutableArray *)array;

+ (YMBookmark *)findeMarkByLocalID:(NSString *)localID;

+ (NSArray *)getBookMarkList;

//按条件获取
+ (NSArray *)getBookmarkByPredicate:(NSPredicate *)predicate;

- (void)saveBookmarksWithArray:(NSArray *)array;

+ (void)updateNoUserIdBookmarkWithBlock:(completeBlock)block;

@end
