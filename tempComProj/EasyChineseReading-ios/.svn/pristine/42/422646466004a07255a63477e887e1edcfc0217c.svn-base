//
//  YMNetHostManager.h
//
//  Created by 高濛 on 14/11/13.
//  Copyright (c) 2014年 grenlight. All rights reserved.
//

#import <AFNetworking/AFHTTPRequestOperation.h>
#import <Foundation/Foundation.h>
#import "YMBookDigest.h"
#import "YMBookmark.h"

typedef void (^requestBlock)(NSDictionary *result);

/*
 登陆后用户模型
*/
@interface LoginUserModel : NSObject

@property(nonatomic, retain) NSString *userName;
@property(nonatomic, retain) NSString *userID;
@property(nonatomic, retain) NSString *authToken;

@end

//-------------------------------------------------------

/*
 网络功能管理类
*/

@interface YMNetHostManager : NSObject {
  AFHTTPRequestOperation *op1;
  AFHTTPRequestOperation *op2;
}
@property (nonatomic, retain) NSString       *hostName;
@property (nonatomic, retain) LoginUserModel *user;

+ (instancetype)sharedInstance;

- (void)canselRequest;

// No.1 单条书签上传
- (void)saveBookMarkToServer:(YMBookmark *)mark;

// No.2 单挑书签移除
- (void)deleteBookmarkToServer:(YMBookmark *)mark;

// No.3 单挑笔记上传
- (void)saveBookdigestToServer:(YMBookDigest *)digest;

// No.4 单挑笔记移除
- (void)deleteBookdigestToServer:(YMBookDigest *)digest;

// No.5 书签获取
- (void)getBookmarkListFromServer;

// No.6 笔记获取
- (void)getBookdigestListFromServer;

// No.7 上传阅读进度
- (void)sendReadProessToServer;

// No.8 下载阅读进度
//- (void)getReadProessFromServer;
- (void)getReadProessFromServerWithBlock:(requestBlock)block;


// No.9补传书签
- (void)supplementaryUploadWihtBlock:(requestBlock)block;

// No.10补充删除status=2的
- (void)supplementaryDeleteMarkWihtBlock:(requestBlock)block;

// No.10补传笔记
- (void)supplementaryUploadBookdigestWihtBlock:(requestBlock)block;

// No.11补删笔记
- (void)supplementaryDeleteDigestWihtBlock:(requestBlock)block;

@end
